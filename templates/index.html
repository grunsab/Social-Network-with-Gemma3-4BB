{% extends 'base.html' %}

{% block title %}
    {% if feed_type == "Personalized" %}
        My Feed
    {% else %}
        Home Feed
    {% endif %}
{% endblock %}

{% block content %}
    <h1>
        {% if feed_type == "Personalized" %}
            Your Personalized Feed
        {% else %}
            Recent Posts
        {% endif %}
    </h1>
    {% if posts %}
        {% for post in posts %}
            <div class="post">
                <p class="post-meta">
                    Posted by <a href="{{ url_for('profile', username=post.author.username) }}">{{ post.author.username }}</a> on {{ post.timestamp.strftime('%Y-%m-%d %H:%M') }}
                    {% if post.category %}
                        | <span class="post-category">{{ post.category }}</span>
                    {% endif %}
                </p>
                <p>{{ post.content }}</p>
            </div>
        {% endfor %}
    {% else %}
        <p>No posts yet. {% if feed_type != "Personalized" %}<a href="{{ url_for('create_post') }}">Create one!</a>{% endif %}</p>
        {% if feed_type == "Personalized" %}
             <p>Create some posts or interact with content to personalize your feed.</p>
        {% endif %}
    {% endif %}
{% endblock %} 